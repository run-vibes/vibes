#!/usr/bin/env bash
set -e

echo "Running pre-commit checks..."

# Format check
echo "→ Checking formatting..."
just quality fmt-check

# Clippy
echo "→ Running clippy..."
just quality clippy

# TypeScript type check (if web-ui files changed)
if git diff --cached --name-only | grep -q '^web-ui/'; then
    echo "→ Checking TypeScript..."
    just web typecheck
fi

echo "✓ Pre-commit checks passed"
